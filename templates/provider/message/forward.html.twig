{% extends 'provider/base.html.twig' %}

{% block title %}Forward Message{% endblock %}

{% block provider_body %}
<style>
.forward-page {
    padding: 0;
    max-width: 1200px;
    margin: 0 auto;
    width: 100%;
}

.forward-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
}

.forward-header h6 {
    margin: 0;
    font-size: 18px;
    font-weight: 600;
    color: #121C0C;
}

.back-button {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #121C0C;
    text-decoration: none;
    font-weight: 500;
    transition: color 0.2s ease;
}

.back-button:hover {
    color: #85BB65;
    text-decoration: none;
}

.forward-form-container {
    background: #fff;
    border: 1px solid #e6eef6;
    border-radius: 10px;
    padding: 24px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.forward-form-group {
    margin-bottom: 20px;
}

.forward-form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: #121C0C;
    font-size: 14px;
}

.forward-form-group select,
.forward-form-group input,
.forward-form-group textarea {
    width: 100%;
    padding: 12px 16px;
    border: 1px solid #e6eef6;
    border-radius: 8px;
    font-size: 14px;
    color: #121C0C;
    font-family: inherit;
}

.forward-form-group select:focus,
.forward-form-group input:focus,
.forward-form-group textarea:focus {
    outline: none;
    border-color: #85BB65;
    box-shadow: 0 0 0 3px rgba(133, 187, 101, 0.1);
}

.forward-form-group textarea {
    resize: vertical;
    min-height: 200px;
}

.original-message-preview {
    background: #f8f9fa;
    border: 1px solid #e6eef6;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 16px;
    font-size: 13px;
    color: #6b7280;
    white-space: pre-wrap;
}

.forward-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    margin-top: 24px;
}

.btn-cancel {
    background: #6c757d;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 12px 24px;
    font-weight: 600;
    text-decoration: none;
    transition: background 0.2s ease;
}

.btn-cancel:hover {
    background: #5a6268;
    color: white;
    text-decoration: none;
}

.btn-forward {
    background: #85BB65;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 12px 24px;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease;
}

.btn-forward:hover {
    background: #6fa050;
}
</style>

<div class="container-xl forward-page">
    <div class="forward-header">
        <a href="{{ path('app_provider_message_show', {id: message.id}) }}" class="back-button">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Back to Message
        </a>
        <h6>Forward Message</h6>
    </div>

    <div class="forward-form-container">
        <form method="POST" enctype="multipart/form-data">
            <div class="forward-form-group">
                <label for="receiver">To *</label>
                <select name="receiver" id="receiver" required>
                    <option value="">Select a recipient</option>
                    {% for employer in employers %}
                        <option value="{{ employer.id }}">{{ employer.name }} ({{ employer.email }})</option>
                    {% endfor %}
                </select>
            </div>

            <div class="forward-form-group">
                <label for="subject">Subject</label>
                <input type="text" name="subject" id="subject" value="Fwd: {{ message.subject }}" required>
            </div>

            <div class="forward-form-group">
                <label>Original Message</label>
                <div class="original-message-preview">
                    From: {{ message.sender.name|default(message.sender.email) }}
                    Date: {{ message.createdAt|date('F j, Y \\a\\t g:i A') }}
                    Subject: {{ message.subject }}

                    {{ message.text }}
                </div>
            </div>

            <div class="forward-form-group">
                <label for="forward_message">Your Message *</label>
                <textarea name="forward_message" id="forward_message" placeholder="Add your message here..." required></textarea>
            </div>

            <div class="forward-form-group">
                <label for="attachment">Attachment</label>
                <input type="file" name="attachment" id="attachment" class="form-control">
            </div>

            <div class="forward-actions">
                <a href="{{ path('app_provider_message_show', {id: message.id}) }}" class="btn-cancel">Cancel</a>
                <button type="submit" class="btn-forward">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Forward Message
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}